<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Users List</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Users</li>
                </ol>
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
    <!-- Default box -->
    <div class="container-fluid">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title "></h3>
                <div class="input-group mb-3 mt-3">
                    <input type="text" class="form-control"  placeholder="buscar"  [(ngModel)]="busqueda" (ngModelChange)="onBusquedaChange()">
                    <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click)="onCreate()">New </button>
                  </div>
            </div>
            <div class="card-body">
                
      


                <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Role</th>
                        <th scope="col">Email</th>
                        <th scope="col" style="width: 120px;">Actions</th> <!-- Reducir el ancho de la columna -->
                      </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let object of listaPaginated; let i=index ">
                            <th scope="row">{{(i+1)+((currentPage-1)*pageSize)}}</th>
                            <td>{{object.user.name}}</td>
                            <td>{{object.role}}</td>
                            <td>{{object.user.email}}</td>
                        
                          <td class="text-end">
                            <div class="btn-group text-end" role="group" aria-label="First group" *ngIf="object.user.id !== user.id">
                                <button type="button" class="btn btn-outline-secondary"  (click)="onEdit(object)">Edit</button>
                                <button type="button" class="btn btn-outline-secondary" (click)="onDelete(object.user.id)"  >Delete</button>
                              </div>
                          </td>
                          </tr>
                    </tbody>
                  </table>
                               
                            <div  class="d-flex justify-content-between align-items-center mb-3">
                                <!-- PaginaciÃ³n -->
                                <ngb-pagination 
                                    [(page)]="currentPage"
                                    [pageSize]="pageSize"
                                    [collectionSize]="lista.length"
                                   
                                    (pageChange)="onPageChange($event)">
                                  </ngb-pagination>

                                        <div >
                                            <select class="form-select border-0"  (change)="onPageSizeChange($event.target.value)">
                                           
                                                <option *ngFor="let option of pageSizeOptions"  [value]="option"  [selected]="option === pageSize">{{ option }}</option>
                                            </select>
                                        </div>
                                </div>
              </div>
            <!-- /.card-body -->
            <div class="card-footer"></div>
            
            <!-- /.card-footer-->
        </div>
    </div>
    <!-- /.card -->
</section>
<!-- /.content -->
